generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Currency {
  id               String        @id @default(uuid())
  symbol           String        @unique
  isoCode          String
  realExchangeRate Float
  paddedRate       Float
  createdAt        DateTime      @default(now())
  updatedAt        DateTime      @updatedAt
  destinations     Destination[]

  @@map("currencies")
}

model Destination {
  id                    String   @id @default(uuid())
  continent             String
  country               String
  city                  String?
  currencyId            String
  realExchangeRate      Float
  paddedExchangeRate    Float
  imageUrl              String?
  housingCost           Float
  foodCost              Float
  transportCost         Float
  entertainmentCost     Float
  insuranceCost         Float
  flightCost            Float
  communicationCost     Float
  activitiesCost        Float
  extrasCost            Float
  contingencyPercent    Float
  bankFeesCost          Float
  totalMonthlyLocal     Float
  totalMonthlyMxnReal   Float
  totalMonthlyMxnPadded Float
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  currency              Currency @relation(fields: [currencyId], references: [id])

  @@unique([country, city])
  @@map("destinations")
}

model TripForm {
  id                 String   @id @default(uuid())
  continente         String
  pais               String
  semanasDuracion    Int
  mes                Int
  anio               Int
  montoTotal         Float
  ahorroTotal        Float
  beneficioPreferido String
  nombre             String
  correoElectronico  String
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@map("trip_forms")
}

model AppConfig {
  id          String   @id @default(uuid())
  key         String   @unique
  value       String
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("app_config")
}
