generator client {
    provider = "prisma-client-js"
    binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// Modelo para tipos de cambio
model Currency {
  id                String @id @default(uuid())
  symbol            String @unique // USD, EUR, etc
  isoCode           String
  realExchangeRate  Float
  paddedRate        Float
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  destinations      Destination[]
  
  @@map("currencies")
}

// Modelo para destinos de viaje
model Destination {
  id                String @id @default(uuid())
  continent         String
  country           String
  city              String?
  currencyId        String
  realExchangeRate  Float
  paddedExchangeRate Float
  imageUrl          String?
  
  // Costos mensuales en moneda local
  housingCost       Float
  foodCost          Float
  transportCost     Float
  entertainmentCost Float
  insuranceCost     Float
  flightCost        Float
  communicationCost Float
  activitiesCost    Float
  extrasCost        Float
  contingencyPercent Float
  bankFeesCost      Float
  
  // Totales calculados
  totalMonthlyLocal Float
  totalMonthlyMxnReal Float
  totalMonthlyMxnPadded Float
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  currency          Currency @relation(fields: [currencyId], references: [id])
  
  @@unique([country, city])
  @@map("destinations")
}

// Modelo para formularios de viajes guardados
model TripForm {
  id                String @id @default(uuid())
  
  // Informaci칩n del viaje
  continente        String
  pais              String
  semanasDuracion   Int
  mes               Int // 1-12
  anio              Int // 2025-2030
  
  // C치lculos financieros
  montoTotal        Float
  ahorroTotal       Float
  
  // Datos del usuario
  beneficioPreferido String
  nombre            String
  correoElectronico String
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  @@map("trip_forms")
}

// Configuraci칩n de la aplicaci칩n
model AppConfig {
  id                  String @id @default(uuid())
  key                 String @unique
  value               String
  description         String?
  
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
  
  @@map("app_config")
}
